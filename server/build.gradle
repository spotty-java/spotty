plugins {
    id 'com.github.johnrengelman.shadow'
}

dependencies {
    implementation project(":common")

    testImplementation "org.apache.httpcomponents:httpclient:$apacheHttpClientVersion"
    testImplementation testFixtures(project(":common"))
}

ext {
    shadowJarVersion = project.findProperty('buildShadowJarVersion') ?: project.version
}

shadowJar {
    archivesBaseName = rootProject.name
    archiveVersion = shadowJarVersion
    zip64 = true
    mergeServiceFiles()
}

build.dependsOn += shadowJar
